<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Kaleidoscope: Kaleidoscope-HostOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kaleidoscope
   </div>
   <div id="projectbrief">Customizable firmware for keyboards</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Kaleidoscope-HostOS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div class="image">
<img src="https://img.shields.io/badge/stable-âœ”-black.svg?style=flat&colorA=44cc11&colorB=494e52"  alt="status"/>
</div>
<p> <a href="https://travis-ci.org/keyboardio/Kaleidoscope-HostOS">![Build Status][travis:image]</a></p>
<p>The <code>HostOS</code> extension is not all that useful in itself, rather, it is a building block other plugins and extensions can use to not repeat the same guesswork and logic. Its primary purpose is to help either detect, or keep track of the host operating system. The detection part is not the most reliable thing, mind you.</p>
<p>The goal is to have a single place that remembers the host OS, either detected, or set by the end-user, in a Sketch, or via a macro, or some other way. This information can then be reused by other plugins.</p>
<p>See the <a href="https://github.com/keyboardio/Kaleidoscope-Unicode">Unicode</a> extension for an example about how to use <code>HostOS</code> in practice.</p>
<p>#</p>
<h1>Using the extension</h1>
<p>The extension provides a <code>HostOS</code> singleton object. It can either be a simple one without auto-detection (the default), or one that will try to detect the Host OS, using the <a href="https://github.com/keyboardio/FingerprintUSBHost">FingerprintUSBHost</a> library. To enable auto-detection, <code>KALEIDOSCOPE_HOSTOS_GUESSER</code> must be defined before including the <code>HostOS</code> library header.</p>
<p>```c++ #define KALEIDOSCOPE_HOSTOS_GUESSER 1</p>
<p>#include &lt;<a class="el" href="Kaleidoscope_8h_source.html">Kaleidoscope.h</a>&gt; #include &lt;<a class="el" href="Kaleidoscope-HostOS_8h_source.html">Kaleidoscope-HostOS.h</a>&gt; #include &lt;<a class="el" href="HostOS-select_8h_source.html">Kaleidoscope/HostOS-select.h</a>&gt;</p>
<p>void someFunction(void) { if (HostOS.os() == kaleidoscope::HostOS::LINUX) { // do something linux-y } if (HostOS.os() == kaleidoscope::HostOS::OSX) { // do something OSX-y } }</p>
<p>void setup(void) { Kaleidoscope.use(&amp;HostOS);</p>
<p>Kaleidoscope.setup (); } ```</p>
<p>To be able to choose between the two variants, one must also include the <code><a class="el" href="HostOS-select_8h_source.html">Kaleidoscope/HostOS-select.h</a></code> header.</p>
<h2>Extension methods</h2>
<p>The extension provides the following methods on the <code>HostOS</code> singleton:</p>
<h3><code>.os()</code></h3>
<blockquote class="doxtable">
<p>Returns the stored type of the Host OS.</p>
<p></p>
</blockquote>
<h3><code>.os(type)</code></h3>
<blockquote class="doxtable">
<p>Sets the type of the host OS, overriding any previous value. The type is then stored in EEPROM for persistence.</p>
<p></p>
</blockquote>
<h2>Dependencies</h2>
<ul>
<li><a href="https://github.com/keyboardio/Kaleidoscope-EEPROM-Settings">Kaleidoscope-EEPROM-Settings</a></li>
</ul>
<h2>Further reading</h2>
<p>Starting from the <a href="https://github.com/keyboardio/Kaleidoscope-HostOS/blob/master/examples/HostOS/HostOS.ino">example</a> is the recommended way of getting started with the extension. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
